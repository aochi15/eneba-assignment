ARG DATABASE_VERSION

FROM postgres:${DATABASE_VERSION:?error}

ARG PORT \
    DATABASE_USERNAME \
    DATABASE_PASSWORD \
    DATABASE_NAME

ENV PGPORT=$PORT \
    POSTGRES_USER=$DATABASE_USERNAME \
    POSTGRES_PASSWORD=$DATABASE_PASSWORD \
    POSTGRES_DB=$DATABASE_NAME

COPY ./init.sql /docker-entrypoint-initdb.d

VOLUME /var/lib/postgresql

EXPOSE $PORT
